{% extends 'base.html.twig' %}

{% block title %}Liste des Haies{% endblock %}

{% block body %}
<div class="flex">
    <h1 class="text-2xl">Liste des Haies</h1>

    <table class="text-center">
        <thead>
            <tr>
                <th class="px-4 py-2">Code</th>
                <th class="px-4 py-2">Nom</th>
                <th class="px-4 py-2">Prix</th>
                <th class="px-4 py-2">Cat√©gorie</th>
                {% if app.user and app.user.hasAdminRole() %}
                <th class="px-4 py-2">Actions</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for haie in haies %}
                <tr>
                    <td class="border px-4 py-2">{{ haie.getCode() }}</td>
                    <td class="border px-4 py-2">{{ haie.getNom() }}</td>
                    <td class="border px-4 py-2">{{ haie.getPrix() }}</td>
                    <td class="border px-4 py-2">{{ haie.getCategorie() }}</td>
                    {% if app.user and app.user.hasAdminRole() %}
                    <td class="border px-4 py-2">
                        <a href="{{ path('modifier', { 'code': haie.getCode() }) }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Modifier</a>
                        {% if haie.getCode() is not empty %}
                        <a href="{{ path('app_supp_haie', { 'code': haie.getCode() }) }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Supprimer</a>
                        {% endif %}
                    </td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
